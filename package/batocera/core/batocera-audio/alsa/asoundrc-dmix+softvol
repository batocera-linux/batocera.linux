# batocera-audio alsa config
# dmix + softvol
# DO NOT CHANGE THIS FILE!!!

pcm.!default {
	type            plug
	slave {
		pcm         "dmixer"
	}
}

ctl.!default {
	type            hw 
	card            %CARDNO%
}

# type dmix used for ES to workaround HDMI audio cards with multiple audio streams
pcm.dmixer {
	ipc_key         1024
	type            dmix
	slave {
		pcm         "hw:%CARDNO%,%DEVICENO%"
		period_time 0
		period_size 2048
		buffer_size 8192
	}
}

# type softvol used to workaround Wine issues
pcm.softvol {
	type            softvol
	slave {
		pcm         "dmixer"
	}
	control {
		name        "Master"
		card        %CARDNO%
	}
}
