diff --git a/core/oslib/audiobackend_alsa.cpp b/core/oslib/audiobackend_alsa.cpp
index 2ad9ffa..b52c7f1 100644
--- a/core/oslib/audiobackend_alsa.cpp
+++ b/core/oslib/audiobackend_alsa.cpp
@@ -4,6 +4,18 @@
 
 snd_pcm_t *handle;
 
+static bool find_float_format(snd_pcm_t *pcm, void *data)
+{
+   snd_pcm_hw_params_t *params = (snd_pcm_hw_params_t*)data;
+
+   if (snd_pcm_hw_params_test_format(pcm, params, SND_PCM_FORMAT_FLOAT) == 0)
+   {
+      return true;
+   }
+
+   return false;
+}
+
 // We're making these functions static - there's no need to pollute the global namespace
 static void alsa_init()
 {
@@ -34,6 +46,8 @@ static void alsa_init()
 	/* Allocate a hardware parameters object. */
 	snd_pcm_hw_params_alloca(&params);
 
+	snd_pcm_format_t format = find_float_format(handle, params) ? SND_PCM_FORMAT_FLOAT : SND_PCM_FORMAT_S16_LE;
+	
 	/* Fill it in with default values. */
 	rc=snd_pcm_hw_params_any(handle, params);
 	if (rc < 0)
@@ -53,7 +67,7 @@ static void alsa_init()
 	}
 
 	/* Signed 16-bit little-endian format */
-	rc=snd_pcm_hw_params_set_format(handle, params, SND_PCM_FORMAT_S16_LE);
+	rc=snd_pcm_hw_params_set_format(handle, params, format);
 	if (rc < 0)
 	{
 		fprintf(stderr, "Error:snd_pcm_hw_params_set_format %s\n", snd_strerror(rc));
@@ -77,22 +91,6 @@ static void alsa_init()
 		return;
 	}
 
-	/* Set period size to settings.aica.BufferSize frames. */
-	frames = 2 * 1024;//settings.aica.BufferSize;
-	rc=snd_pcm_hw_params_set_period_size_near(handle, params, &frames, &dir);
-	if (rc < 0)
-	{
-		fprintf(stderr, "Error:snd_pcm_hw_params_set_buffer_size_near %s\n", snd_strerror(rc));
-		return;
-	}
-	frames*=4;
-	rc=snd_pcm_hw_params_set_buffer_size_near(handle, params, &frames);
-	if (rc < 0)
-	{
-		fprintf(stderr, "Error:snd_pcm_hw_params_set_buffer_size_near %s\n", snd_strerror(rc));
-		return;
-	}
-
 	/* Write the parameters to the driver */
 	rc = snd_pcm_hw_params(handle, params);
 	if (rc < 0)
